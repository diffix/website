<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta http-equiv="content-security-policy" content=""><title>Open Diffix - Introducing Diffix Fir</title><script async src="//platform.twitter.com/widgets.js" charset="utf-8" data-svelte="svelte-1tl8nxd"></script>
	<link rel="stylesheet" href="/_app/assets/pages/__layout.svelte-3dc0428f.css">
	<link rel="modulepreload" href="/_app/start-703edd17.js">
	<link rel="modulepreload" href="/_app/chunks/vendor-8665e618.js">
	<link rel="modulepreload" href="/_app/pages/__layout.svelte-70b8f3e1.js">
	<link rel="modulepreload" href="/_app/chunks/ackee-dc53f939.js">
	<link rel="modulepreload" href="/_app/chunks/Link-8dfb6494.js">
	<link rel="modulepreload" href="/_app/pages/blog/introducing-diffix-fir.md-e23add69.js">
	<link rel="modulepreload" href="/_app/chunks/_post-3392f905.js">
	<link rel="modulepreload" href="/_app/chunks/utils-6cf984b9.js"><script type="module">
		import { start } from "/_app/start-703edd17.js";
		start({
			target: document.querySelector("#opendiffix"),
			paths: {"base":"","assets":""},
			session: {},
			route: true,
			spa: false,
			trailing_slash: "never",
			hydrate: {
				status: 200,
				error: null,
				nodes: [
					import("/_app/pages/__layout.svelte-70b8f3e1.js"),
						import("/_app/pages/blog/introducing-diffix-fir.md-e23add69.js")
				],
				url: new URL("http://sveltekit-prerender/blog/introducing-diffix-fir"),
				params: {}
			}
		});
	</script>
  </head>
  <body>
    <div id="opendiffix">




<div class="flex flex-col min-h-screen"><div class="h-auto md:h-24 transition-all duration-200"><div class="md:fixed w-full bg-white z-50 md:border-b border-collapse"><nav class="max-w-2xl mx-auto w-full -mb-1 flex justify-end text-xl"><div class="font-semibold"><a href="/" class="duration-50 transition-shadow px-4 py-4 block text-gray-500 hover:text-gray-900 hover:pb-4 hover:border-b-4 border-gray-200 hover:border-shamrock-200">Home</a></div>

      <div class="font-semibold"><a href="/download" class="duration-50 transition-shadow px-4 py-4 block text-gray-500 hover:text-gray-900 hover:pb-4 hover:border-b-4 border-gray-200 hover:border-shamrock-200">Download</a></div>

      <div class="font-semibold"><a href="/faq" class="duration-50 transition-shadow px-4 py-4 block text-gray-500 hover:text-gray-900 hover:pb-4 hover:border-b-4 border-gray-200 hover:border-shamrock-200">FAQ</a></div>

      <div class="font-semibold"><a href="/blog" class="transition-colors duration-500 px-4 py-4 block h-full border-shamrock-600 border-b-4">Blog</a></div></nav></div></div>
  <div class="flex-grow"></div>
  <div class="flex-grow-0 w-full">

<div class="px-4 py-8"><article class="break-words mx-auto prose lg:prose-lg"><p style="margin-bottom: 0.5em;">Published on September 15, 2022 by Paul Francis</p>
    <h1>Introducing Diffix Fir</h1>
<p>Diffix Elm was the first Diffix version produced by the Open Diffix project. Compared to the versions released by Aircloak GmbH (Aspen, Birch, Cedar, and Dogwood), Elm is simpler and has fewer features.</p>
<p>Diffix Fir builds on Elm with several new features.</p>
<p>Whereas the only aggregate supported by Elm is <code>count()</code>, Fir adds three new aggregates. The first two, <code>sum(col)</code> and <code>avg(col)</code>, work identically to their PostgreSQL counterparts (with the important caveat that noise is added).</p>
<p>The third new aggregate is <code>diffix.count_histogram(aid_col)</code>. This creates histogram bins according to the number of rows (events) of each protected entity. For example, from a banking dataset, we can learn how many customers had one transaction, how many had two transactions, and so on. (Note that in SQL, the same thing could be done with nested SELECTs, where the inner SELECT counts the number of rows for each protected entity, and the outer SELECT bins those counts. Diffix Fir, however, is not able to handle this SQL, and so we use a custom function.)</p>
<p>Diffix Fir re-introduces the <code>WHERE</code> clause that was dropped by Diffix Elm. In Fir, however, <code>WHERE</code> logic is limited to <code>AND</code>, and each expression is limited to <code>col = val</code> or <code>func(col) = val</code>. The main purpose of <code>WHERE</code> in Fir is to speed up query processing by filtering out much of the data before Diffix anonymization is encountered.</p>
<h2>Learn more</h2>
<p>The <a href="https://github.com/diffix/pg_diffix/blob/release/fir/docs/analyst_guide.md" rel="nofollow">analyst guide</a> has all the details.</p>
<p>Alternatively, the <a href="https://training.open-diffix.org" rel="nofollow">Diffix Training App</a> is an interactive online application that walks through all of the features of Diffix Fir and shows how to manage noise and suppression.</p>
<h2>Next, Diffix Greenheart</h2>
<p>We are looking forward to the next version of Diffix, Greenheart, which will include <code>JOIN</code> and native timestamp data types!</p></article></div></div>

  <div class="flex-grow"></div>

  <footer class="flex flex-col items-center flex-grow-0 p-4 pt-10 pb-10 mx-auto text-sm text-gray-500"><span class="max-w-sm text-center">If you have questions or want to discuss the project, please send us an email at <a class="text-gray-800 underline hover:text-gray-500" href="mailto:hello@open-diffix.org">hello@open-diffix.org</a>.
    </span>

    <div class="mt-4 mx-auto"><a href="https://twitter.com/OpenDiffix?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-size="large" data-dnt="true" data-show-count="false">Follow @OpenDiffix</a></div>

    <span class="mt-8">Copyright MPI-SWS</span>
    <span class="mx-auto mt-2 space-x-2"><a class="text-gray-800 underline hover:text-gray-500" href="https://imprint.mpi-klsb.mpg.de/sws/open-diffix.org/">Imprint</a>
      <a class="text-gray-800 underline hover:text-gray-500" href="https://data-protection.mpi-klsb.mpg.de/sws/open-diffix.org">Privacy Policy</a></span></footer></div>

</div>
  </body>
</html>
