import{S as at,i as st,s as rt,C as Ie,w as nt,x as lt,y as ft,z as dt,A as tt,q as ct,o as ht,B as ut,Y as ot,e as r,t as i,k as v,c as n,a as l,h as a,d as o,m as x,b as te,g as d,L as t}from"../../chunks/vendor-8665e618.js";import{P as pt}from"../../chunks/_post-3392f905.js";import"../../chunks/utils-6cf984b9.js";function mt(O){let f,E,_,w,c,p,D,oe,q,m,ie,S,ae,se,P,re,ne,H,le,fe,z,b,de,W,ce,he,B,h,ue,$,pe,me,I,Ee,_e,N,we,ve,R,xe,De,j,be,ye,G,ge,Ce,J,k,Fe,Y,y,Te,T,Le,Oe,Z,g,ke,L,Ae,Se,K,A,Pe,M,C,He,Q,We,$e;return{c(){f=r("h1"),E=i("Introducing Diffix Fir"),_=v(),w=r("p"),c=i("Diffix Elm was the first Diffix version produced by the Open Diffix project. Compared to the versions released by Aircloak GmbH (Aspen, Birch, Cedar, and Dogwood), Elm is simpler and has fewer features."),p=v(),D=r("p"),oe=i("Diffix Fir builds on Elm with several new features."),q=v(),m=r("p"),ie=i("Whereas the only aggregate supported by Elm is "),S=r("code"),ae=i("count()"),se=i(", Fir adds three new aggregates. The first two, "),P=r("code"),re=i("sum(col)"),ne=i(" and "),H=r("code"),le=i("avg(col)"),fe=i(", work identically to their PostgreSQL counterparts (with the important caveat that noise is added)."),z=v(),b=r("p"),de=i("The third new aggregate is "),W=r("code"),ce=i("diffix.count_histogram(aid_col)"),he=i(". This creates histogram bins according to the number of rows (events) of each protected entity. For example, from a banking dataset, we can learn how many customers had one transaction, how many had two transactions, and so on. (Note that in SQL, the same thing could be done with nested SELECTs, where the inner SELECT counts the number of rows for each protected entity, and the outer SELECT bins those counts. Diffix Fir, however, is not able to handle this SQL, and so we use a custom function.)"),B=v(),h=r("p"),ue=i("Diffix Fir re-introduces the "),$=r("code"),pe=i("WHERE"),me=i(" clause that was dropped by Diffix Elm. In Fir, however, "),I=r("code"),Ee=i("WHERE"),_e=i(" logic is limited to "),N=r("code"),we=i("AND"),ve=i(", and each expression is limited to "),R=r("code"),xe=i("col = val"),De=i(" or "),j=r("code"),be=i("func(col) = val"),ye=i(". The main purpose of "),G=r("code"),ge=i("WHERE"),Ce=i(" in Fir is to speed up query processing by filtering out much of the data before Diffix anonymization is encountered."),J=v(),k=r("h2"),Fe=i("Learn more"),Y=v(),y=r("p"),Te=i("The "),T=r("a"),Le=i("analyst guide"),Oe=i(" has all the details."),Z=v(),g=r("p"),ke=i("Alternatively, the "),L=r("a"),Ae=i("Diffix Training App"),Se=i(" is an interactive online application that walks through all of the features of Diffix Fir and shows how to manage noise and suppression."),K=v(),A=r("h2"),Pe=i("Next, Diffix Greenheart"),M=v(),C=r("p"),He=i("We are looking forward to the next version of Diffix, Greenheart, which will include "),Q=r("code"),We=i("JOIN"),$e=i(" and native timestamp data types!"),this.h()},l(e){f=n(e,"H1",{});var s=l(f);E=a(s,"Introducing Diffix Fir"),s.forEach(o),_=x(e),w=n(e,"P",{});var Ne=l(w);c=a(Ne,"Diffix Elm was the first Diffix version produced by the Open Diffix project. Compared to the versions released by Aircloak GmbH (Aspen, Birch, Cedar, and Dogwood), Elm is simpler and has fewer features."),Ne.forEach(o),p=x(e),D=n(e,"P",{});var Re=l(D);oe=a(Re,"Diffix Fir builds on Elm with several new features."),Re.forEach(o),q=x(e),m=n(e,"P",{});var F=l(m);ie=a(F,"Whereas the only aggregate supported by Elm is "),S=n(F,"CODE",{});var je=l(S);ae=a(je,"count()"),je.forEach(o),se=a(F,", Fir adds three new aggregates. The first two, "),P=n(F,"CODE",{});var Ge=l(P);re=a(Ge,"sum(col)"),Ge.forEach(o),ne=a(F," and "),H=n(F,"CODE",{});var Qe=l(H);le=a(Qe,"avg(col)"),Qe.forEach(o),fe=a(F,", work identically to their PostgreSQL counterparts (with the important caveat that noise is added)."),F.forEach(o),z=x(e),b=n(e,"P",{});var U=l(b);de=a(U,"The third new aggregate is "),W=n(U,"CODE",{});var qe=l(W);ce=a(qe,"diffix.count_histogram(aid_col)"),qe.forEach(o),he=a(U,". This creates histogram bins according to the number of rows (events) of each protected entity. For example, from a banking dataset, we can learn how many customers had one transaction, how many had two transactions, and so on. (Note that in SQL, the same thing could be done with nested SELECTs, where the inner SELECT counts the number of rows for each protected entity, and the outer SELECT bins those counts. Diffix Fir, however, is not able to handle this SQL, and so we use a custom function.)"),U.forEach(o),B=x(e),h=n(e,"P",{});var u=l(h);ue=a(u,"Diffix Fir re-introduces the "),$=n(u,"CODE",{});var ze=l($);pe=a(ze,"WHERE"),ze.forEach(o),me=a(u," clause that was dropped by Diffix Elm. In Fir, however, "),I=n(u,"CODE",{});var Be=l(I);Ee=a(Be,"WHERE"),Be.forEach(o),_e=a(u," logic is limited to "),N=n(u,"CODE",{});var Je=l(N);we=a(Je,"AND"),Je.forEach(o),ve=a(u,", and each expression is limited to "),R=n(u,"CODE",{});var Ye=l(R);xe=a(Ye,"col = val"),Ye.forEach(o),De=a(u," or "),j=n(u,"CODE",{});var Ze=l(j);be=a(Ze,"func(col) = val"),Ze.forEach(o),ye=a(u,". The main purpose of "),G=n(u,"CODE",{});var Ke=l(G);ge=a(Ke,"WHERE"),Ke.forEach(o),Ce=a(u," in Fir is to speed up query processing by filtering out much of the data before Diffix anonymization is encountered."),u.forEach(o),J=x(e),k=n(e,"H2",{});var Me=l(k);Fe=a(Me,"Learn more"),Me.forEach(o),Y=x(e),y=n(e,"P",{});var V=l(y);Te=a(V,"The "),T=n(V,"A",{href:!0,rel:!0});var Ue=l(T);Le=a(Ue,"analyst guide"),Ue.forEach(o),Oe=a(V," has all the details."),V.forEach(o),Z=x(e),g=n(e,"P",{});var X=l(g);ke=a(X,"Alternatively, the "),L=n(X,"A",{href:!0,rel:!0});var Ve=l(L);Ae=a(Ve,"Diffix Training App"),Ve.forEach(o),Se=a(X," is an interactive online application that walks through all of the features of Diffix Fir and shows how to manage noise and suppression."),X.forEach(o),K=x(e),A=n(e,"H2",{});var Xe=l(A);Pe=a(Xe,"Next, Diffix Greenheart"),Xe.forEach(o),M=x(e),C=n(e,"P",{});var ee=l(C);He=a(ee,"We are looking forward to the next version of Diffix, Greenheart, which will include "),Q=n(ee,"CODE",{});var et=l(Q);We=a(et,"JOIN"),et.forEach(o),$e=a(ee," and native timestamp data types!"),ee.forEach(o),this.h()},h(){te(T,"href","https://github.com/diffix/pg_diffix/blob/release/fir/docs/analyst_guide.md"),te(T,"rel","nofollow"),te(L,"href","https://training.open-diffix.org"),te(L,"rel","nofollow")},m(e,s){d(e,f,s),t(f,E),d(e,_,s),d(e,w,s),t(w,c),d(e,p,s),d(e,D,s),t(D,oe),d(e,q,s),d(e,m,s),t(m,ie),t(m,S),t(S,ae),t(m,se),t(m,P),t(P,re),t(m,ne),t(m,H),t(H,le),t(m,fe),d(e,z,s),d(e,b,s),t(b,de),t(b,W),t(W,ce),t(b,he),d(e,B,s),d(e,h,s),t(h,ue),t(h,$),t($,pe),t(h,me),t(h,I),t(I,Ee),t(h,_e),t(h,N),t(N,we),t(h,ve),t(h,R),t(R,xe),t(h,De),t(h,j),t(j,be),t(h,ye),t(h,G),t(G,ge),t(h,Ce),d(e,J,s),d(e,k,s),t(k,Fe),d(e,Y,s),d(e,y,s),t(y,Te),t(y,T),t(T,Le),t(y,Oe),d(e,Z,s),d(e,g,s),t(g,ke),t(g,L),t(L,Ae),t(g,Se),d(e,K,s),d(e,A,s),t(A,Pe),d(e,M,s),d(e,C,s),t(C,He),t(C,Q),t(Q,We),t(C,$e)},d(e){e&&o(f),e&&o(_),e&&o(w),e&&o(p),e&&o(D),e&&o(q),e&&o(m),e&&o(z),e&&o(b),e&&o(B),e&&o(h),e&&o(J),e&&o(k),e&&o(Y),e&&o(y),e&&o(Z),e&&o(g),e&&o(K),e&&o(A),e&&o(M),e&&o(C)}}}function Et(O){let f,E;const _=[O[0],it];let w={$$slots:{default:[mt]},$$scope:{ctx:O}};for(let c=0;c<_.length;c+=1)w=Ie(w,_[c]);return f=new pt({props:w}),{c(){nt(f.$$.fragment)},l(c){lt(f.$$.fragment,c)},m(c,p){ft(f,c,p),E=!0},p(c,[p]){const D=p&1?dt(_,[p&1&&tt(c[0]),p&0&&tt(it)]):{};p&2&&(D.$$scope={dirty:p,ctx:c}),f.$set(D)},i(c){E||(ct(f.$$.fragment,c),E=!0)},o(c){ht(f.$$.fragment,c),E=!1},d(c){ut(f,c)}}}const it={title:"Introducing Diffix Fir",author:"Paul Francis",date:"2022-09-15T00:00:00.000Z",excerpt:"Diffix Fir, the latest version of Diffix, has been released. Among the new features offered by Diffix Fir are WHERE clauses and sum()."};function _t(O,f,E){return O.$$set=_=>{E(0,f=Ie(Ie({},f),ot(_)))},f=ot(f),[f]}class Dt extends at{constructor(f){super();st(this,f,_t,Et,rt,{})}}export{Dt as default,it as metadata};
